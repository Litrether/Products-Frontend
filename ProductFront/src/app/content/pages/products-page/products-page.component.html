<div class="products-page">
    <div class="filter-panel">

        <input type="text" id="search-input" class="search-input" (input)="search()" placeholder="Search">
        <select class="currency-select" id="currency-select" (change)="changeCurrency()">
            <option selected value="USD">USD</option>
            <option value="EUR">EUR</option>
            <option value="RUB">RUB</option>
        </select>
        <input type="text" id="currency-min-input" class="min-cost-input" (input)="search()" placeholder="Minimal cost">
        <input type="text" id="currency-min-input" class="max-cost-input" (input)="search()" placeholder="Minimal cost">

        <ul class="categories-list">
            <li routerLinkActive="active">
                <a (click)="changeCategory('')">
                    <h2> All categories</h2>
                </a>
            </li>
            <li routerLinkActive="active">
                <a (click)="changeCategory('Vegetables')"> Vegetables </a>
            </li>
            <li routerLinkActive="active">
                <a (click)="changeCategory('Fruits')"> Fruits </a>
            </li>
            <li routerLinkActive="active">
                <a (click)="changeCategory('Grocery')"> Grocery </a>
            </li>
            <li routerLinkActive="active">
                <a (click)="changeCategory('Meat')"> Meat </a>
            </li>
            <li routerLinkActive="active">
                <a (click)="changeCategory('Dairy Products')"> Dairy Products </a>
            </li>
            <li routerLinkActive="active">
                <a (click)="changeCategory('Confectionery')"> Confectionery </a>
            </li>
        </ul>

        <div class="pagination">
            <a (click)="leftPage()">&laquo;</a>
            <a class="active"> {{params.pageNumber}} </a>
            <a (click)="rightPage()">&raquo;</a>
        </div>

    </div>

    <div class="products-panel" *ngIf="products$ | async as products; else loading">
        <ul class="products-list" *ngFor="let product of products">
            <li class="product-card">
                <img class="card-product-img" src="assets/img/account.png">
                <p>{{product.name}}</p>
                <p>{{product.provider}}</p>
                <p>
                    {{(product.cost).toFixed(2)}} {{currCurrency}}
                </p>

                <div class="manage-card-buttons">
                    <img class="card-img" src="assets/img/basket.png" (click)="cartApiService.CreateCart(product.id)">
                    <img class="card-img" src="assets/img/edit.png" (click)="cartApiService.CreateCart(product.id)"
                        *ngIf="!accountService.isClient()">
                    <img class="card-img" src="assets/img/delete.png" (click)="DeleteItem(product)"
                        *ngIf="!accountService.isClient()">
                </div>

            </li>
        </ul>
    </div>



</div>

<ng-template #loading>
    <app-loading></app-loading>
</ng-template>