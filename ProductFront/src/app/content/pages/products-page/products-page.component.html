<router-outlet></router-outlet>
<div class="product-page-wrapper">
    <div class="filter-panel">
        <input type="text" id="search-input" class="search-input" (input)="search()" placeholder="Search">
        <input type="number" id="minCost-input" class="cost-input" (input)="minCost()" placeholder="Min. cost">
        <input type="number" id="maxCost-input" class="cost-input" (input)="maxCost()" placeholder="Max. cost">
        <select class="currency-select" id="currency-select" (change)="changeCurrency()">
            <option selected value="USD">USD</option>
            <option value="EUR">EUR</option>
            <option value="RUB">RUB</option>
        </select>
        <a class="create-link" *ngIf="!authService.isClient()" [routerLink]="['/user/products/form']">
            <img src=" assets/img/create.png" alt="create">
        </a>

        <ul class="categories-list">
            <li routerLinkActive="active">
                <a (click)="changeCategory('')">
                    <h3> All categories</h3>
                </a>
            </li>
            <li routerLinkActive="active" *ngFor="let category of categories">
                <a (click)="changeCategory(category.name)"> {{category.name}} </a>
            </li>
        </ul>
        <div class="pagination">
            <a (click)="leftPage()">&laquo;</a>
            <a class="active"> {{productParams.pageNumber}} </a>
            <a (click)="rightPage()">&raquo;</a>
        </div>
    </div>
    <div class="products-panel" *ngIf="isLoad; else loading">
        <ul class="products-list" *ngFor="let product of products">
            <li class="product-card" title="{{product.description}}">
                <img class="card-product-img" src="{{product.imageUrl}}">
                <p>{{product.name}}</p>
                <p>{{product.provider}}</p>
                <p>
                    {{(product.cost).toFixed(2)}} {{currCurrency}}
                </p>
                <div class="manage-card-buttons">
                    <img src="assets/img/basket.png" (click)="addProductToCart(product)">
                    <img src="assets/img/edit.png" (click)="editItem(product)" *ngIf="!authService.isClient()">
                    <img src="assets/img/delete.png" (click)="deleteItem(product)" *ngIf="!authService.isClient()">
                </div>
            </li>
        </ul>
    </div>
</div>


<ng-template #loading>
    <div class="products-panel">
        <app-loading></app-loading>
    </div>
</ng-template>