<div class="account-page-wrapper">
    <div class="account-wrapper" *ngIf="accountData; else loading">
        <div class="account-panel">
            <img class="account-photo" src="assets/img/account.png" alt="photo">
            <div class="account-info">
                <ul>
                    <li>
                        <p> Name: {{accountData.firstName}} {{accountData.lastName}}</p>
                    </li>
                    <li>
                        <p> Username: {{accountData.username}}</p>
                    </li>
                    <li>
                        <p> Email: {{accountData.email}}</p>
                    </li>
                </ul>
            </div>
            <div class="account-control">
                <button (click)="changePasswordForm = true">Change password</button>
                <button (click)="deleteAccountForm = true">Delete account</button>
            </div>
            <app-pagination (click)="query()"></app-pagination>
        </div>
        <div class="products-panel" *ngIf="isLoad; else loading">
            <ul class="products-list" *ngFor="let product of cartProducts">
                <li class="product-card">
                    <img class="card-product-img" src="{{product.imageUrl}}">
                    <p>{{product.name}}</p>
                    <img class="card-button" src="assets/img/cross.png" (click)="deleteProductFromCart(product)">
                    <p>{{product.provider}}</p>
                </li>
            </ul>
        </div>
    </div>

    <app-change-pass-form *ngIf="changePasswordForm" (onSubmit)="changePassword($event)"></app-change-pass-form>
    <app-string-form *ngIf="deleteAccountForm" (onSubmit)="deleteAccount($event)" [inputType]="'password'"
        [placeholder]="'Account password'">
    </app-string-form>
</div>

<ng-template #loading>
    <app-loading></app-loading>
</ng-template>